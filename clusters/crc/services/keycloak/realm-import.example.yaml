# Schema template for clusters/crc/services/keycloak/realm-import.yaml
# The real file is gitignored and generated by setup.sh â€” do NOT commit the real file.
#
# To regenerate: run ./setup.sh
apiVersion: k8s.keycloak.org/v2alpha1
kind: KeycloakRealmImport
metadata:
  name: openshift-realm
  namespace: keycloak
spec:
  keycloakCRName: keycloak
  realm:
    id: openshift
    realm: openshift
    enabled: true
    loginWithEmailAllowed: false
    users:
      - username: <KEYCLOAK_ADMIN_USER>
        enabled: true
        emailVerified: true
        firstName: Admin
        lastName: Admin
        email: <KEYCLOAK_ADMIN_USER>@conflux.local
        requiredActions: []
        credentials:
          - type: password
            value: "<KEYCLOAK_ADMIN_PASSWORD>"
            temporary: false
        realmRoles:
          - default-roles-openshift
    clients:
      - clientId: openshift
        secret: <OIDC_CLIENT_SECRET>
        enabled: true
        protocol: openid-connect
        standardFlowEnabled: true
        implicitFlowEnabled: false
        directAccessGrantsEnabled: true
        redirectUris:
          - "https://oauth-openshift.apps-crc.testing/*"
          - "https://console-openshift-console.apps-crc.testing/*"
